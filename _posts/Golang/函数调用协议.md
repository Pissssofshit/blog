---
layout: post
title: 函数调用协议
categories: [Golang]
tags: [Golang]
---

## 虚拟地址空间

## 寄存器
栈基：bp
栈顶：sp
指令寄存器：ip（是指向代码段中的指令）

指令寄存器中的值指向代码段中的指令


## 栈结构
Golang 由调用者维护参数和返回值:
返回地址
调用者栈基
局部变量
返回值(给调用函数的，由右至左)
参数(给调用函数的，由右至左)
返回地址


## 指令

call :
1. 将返回地址入栈
2. 跳转到被调用函数入口处(设置ip寄存器)

ret : 
1. pop
2. 设置ip到对应地址

## defer



## 参考资料
[1]https://www.tenouk.com/Bufferoverflowc/Bufferoverflow2a.html
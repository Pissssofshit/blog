## 为什么需要加密
HTTP的内容是明文传输，明文数据会经过中间代理服务器、路由器、wifi热点、通信服务运营商等多个物理节点，如果信息在传输过程中被劫持，传输的内容就完全暴露了。劫持者还可以篡改传输的信息且不被双方察觉，这就是中间人攻击。所以我们才需要对信息进行加密。最容易理解的就是对称加密 。
## 什么是对称加密
一个秘钥可以对明文进行加密和解密

### 对称加密的问题
无法让秘钥让双方持有并不让其他人知晓(因为秘钥本身也需要传输)

## 什么是非对称加密
算法生成一对公钥私钥，公钥用于数据加密，私钥用于数据解密
### 非对称加密的数据传输过程
1. 数据接收方先向数据发送方明文发送一把公钥
2. 数据发送方后续用公钥将数据加密后，发送给接收方
3. 接收方用私钥进行数据解密

总结: 非对称加密可以保证单方向的数据传输安全

浏览器与服务器交互似乎就是两个对称的传输过程，
但是HTTPS没有采用这种方式，原因是非对称加密很耗时，并且其中有漏洞(先抛开不谈)

## 非对称加密+对称加密
1. 服务器拥有公钥A和私钥A'秘钥对
2. 客户端请求之后，获得公钥A
3. 客户端生成对称加密秘钥X,用公钥A加密后传输给服务器，这样服务器解密后就都拥有秘钥X了。
4. 差不多了

### 最后的漏洞:中间人攻击
问题是:如何证明浏览器收到的公钥一定是该网站的公钥?
网站身份证:CA机构颁发的数字证书
数字证书防伪技术:
证书内容+用证书内容生成的一份签名，即**数字签名**

数字签名制作过程:
1. CA拥有非对称加密的私钥和公钥
2. CA对证书明文进行hash(为了方便加解密)
3. 对hash后的值用私钥进行加密

浏览器验证过程:

1. 拿到证书，得到明文及签名
2. 用CA的公钥对签名进行解密
3. 比较用Hash算法处理的明文及解密后的数据，应相等


## 资料
[彻底搞懂HTTPS的加密原理](https://zhuanlan.zhihu.com/p/43789231)
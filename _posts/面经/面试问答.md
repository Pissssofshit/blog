## 自我介绍

你好面试官，我的大学专业是软件工程，于2019年毕业，毕业之后一直从事服务端开发工作，至今有三年的工作经验。我在上家公司主要负责基础服务的平台化开发工作。在过去一年多的时间里我和小组同事一起从0到1建立起了mPaaS平台体系，在这个过程中我参与了平台服务从单体架构到微服务化的演进，在其中独立负责了多个系统的开发和迭代。今天也是来面试服务端研发工程师的岗位。

### 谈谈什么是mPaaS平台体系
**P0** 还是要准备下怎么说，搞得人家都听不懂了
mPaaS的设计目标是作为应用搭建的基础设施，提供App全生命周期（开发、测试、上线、问题修复)全方位的服务支撑,我们做的主要工作是将既有系统整合为统一的平台功能，让用户可以在应用层面实现CI/CD,测试,Crash收集等之前分散在各个子系统内的功能。节省研发投入。
### 怎么整合
1. 网关，
1.1 做反向代理，作为请求的统一入口
1.2 在网关层面实现权限统一管理
1.2.1 定义统一的数据模型

我在其中主要负责Crash、UI自动化平台的开发,另外还有应用服务之类的系统。
面向用户: 业务和测试同学
Crash平台的业务指标/价值主要体现在:
1.app质量数据量化
2.实时告警，提高业务的crash响应速度
3.日报，定时汇总应用质量情况
4.多维度聚合，（小程序类型、RN类型、组件类型等）

## 项目经验

背景：公司有许多内部系统,需要有统一的权限管理、抽取系统中冗余的功能，开始往微服务演化
原因：去除各个系统中冗余的功能，需要有统一的权限管理
演化过程:

1. 单体服务拆分
2. 网关(权限控制)
3. 限流(场景是一些接口以open api 的形式对其他团队提供服务，需要进行控制）、熔断(设想，没有实际实施) 等

### UI自动化

#### 计划

1. 与应用具体版本关联
2. 没有做自动化的回归，主要原因是机器数量不够无法支撑。补偿的方式是将历史版本的计划及与其关联的用例迁移复制一份过去

#### 任务

具体执行的计划称为"任务"
执行方式

1. 定时任务
2. 手动执行的任务

#### 数据

1. 任务执行数据： 结果、时长
2. 任务执行具体数据：有由测试框架生成的报告（静态网站的形式)，报告存储在一个一台虚拟机上,并提供一个静态文件服务做展示
3. 任务排队
   2.1 排队任务数据存到"临时任务表"中
   2.2 排队任务数据平时常驻内存，数据结构 map key:device,value 临时任务id
   2.3 设备空闲回调，则从排队任务中取任务

#### 设备管理

1. 主动上报状态
2. 心跳

### Crash 平台
**P0** 排查问题的经验写一遍（对象池)
## 有遇到过高并发场景吗

没有，做的系统都是面向公司内部，决定了低并发低用户量，但是对高并发系统架构做过了解，如果后续用户量上来可以有xxx

## 为什么使用grpc

## 日志&链路追踪
### 怎么做的?
我们接入的日志追踪组件是zipkin，因为其存储原生支持Es

Collector：存储和索引报上来的链路数据，以供后续查找。 <- 这是干啥的？

Storage：Zipkin 的服务端存储，除了 Cassandra，Zipkin 还原生支持 ElasticSearch 和 MySQL。

Zipkin Query Service（API）：Zipkin 为 Web UI 提供的一个简单查询 API，用于查找和检索链路调用信息。

Web UI：Zipkin 查询链路追踪的界面。Web UI 提供了一种基于服务、时间和注解查看 Trace 记录的方法。

## 项目中的难点

* mysql 调优：

1. 分表，按照category；分表之后导致全局统计比较复杂，因此新增一张大宽表(小时，同样的记录+count字段），做数据聚合
2. join优化，小表驱动大表,join字段加上索引
3. 交互优化，列表搜索只允许出现一个模糊匹配

* 流量控制：
  日志文件解析，请求量不大但单个请求消耗系统资源大（协程池）
* 系统设计

## 了解过gc吗

三色算法，可达性=是否存活

## 有遇到过多线程的场景吗

有简单的使用场景

## 项目分层

## 有使用过微服务吗？目的是什么？
**P0** 把各个主题都重新思考下，都说自己做过就可以了

- [ ] 日志采集 ELK都去了解下
- [ ] Prometheus+Granfana监控预警服务集群

有，目的是为了

* 降低系统冗余
* 持续快速迭代（更新一部分功能不至于整个功能上线)

## 怎么学习新技术
* 官方文档
* 博客
